<hibernate-mapping package="com.excelr.collection.entity">

    <class name="Player" table="players">
        <id name="id" type="java.lang.Long">
            <column name="player_id" />
            <generator class="identity" />
        </id>
        <property name="name" type="java.lang.String">
            <column name="player_name" />
        </property>

        <!-- Many-to-Many (Player and Team) -->
        <set name="teams" table="player_team" inverse="true" cascade="all">
            <key column="player_id" />
            <many-to-many class="Team" column="team_id" />
        </set>
    </class>

    <class name="Team" table="teams">
        <id name="id" type="java.lang.Long">
            <column name="team_id" />
            <generator class="identity" />
        </id>
        <property name="name" type="java.lang.String">
            <column name="team_name" />
        </property>

        <!-- Many-to-Many (Player and Team) -->
        <set name="players" table="player_team" inverse="true" cascade="all">
            <key column="team_id" />
            <many-to-many class="Player" column="player_id" />
        </set>
    </class>

    <!-- Many-to-Many Association (Player and Team) -->
    <class name="PlayerTeam" table="player_team">
        <id name="id" type="java.lang.Long">
            <column name="id" />
            <generator class="identity" />
        </id>

        <many-to-one name="player" class="Player" column="player_id" />
        <many-to-one name="team" class="Team" column="team_id" />
    </class>

</hibernate-mapping>
